---
title: "TypeScriptë¥¼ ì‹¤ë¬´ì— ì ìš©í•˜ëŠ” ë°©ë²• â€“ DOM/React/Nodeì—ì„œ íƒ€ì…ì´ ê¹¨ì§€ëŠ” ì§€ì  ì •ë¦¬"
description: "DOMÂ·ReactÂ·Node ê²½ê³„ì—ì„œ íƒ€ì…ì´ ê¹¨ì§€ëŠ” ì§€ì ì„ ì§šê³  union ìƒíƒœ, ëŸ°íƒ€ì„ ê²€ì¦, ì™¸ë¶€ ì…ë ¥ ì²˜ë¦¬ ì „ëµì„ ë‹¤ë£¸"
categories: ["ğŸŸ¦ TypeScript & Language"]
tags: ["Boundary", "RuntimeValidation", "React", "DOM"]
image: /assets/posts/2025-12-16-typescript/image.png
date: 2025-12-16 13:38:00 +09:00
last_modified_at: 2025-12-16 13:38:00 +09:00
---

## ê²°ë¡ : íƒ€ì…ì´ ê¹¨ì§€ëŠ” ì§€ì ì€ í•­ìƒ â€œê²½ê³„ë©´â€ì´ë©°, ì—¬ê¸°ì„œ ì„¤ê³„ê°€ ê°ˆë¦°ë‹¤

TypeScriptëŠ” ë‚´ë¶€ ë¡œì§ì„ ì•ˆì „í•˜ê²Œ ë§Œë“ ë‹¤. í•˜ì§€ë§Œ **DOMÂ·React propsÂ·HTTP ìš”ì²­Â·ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬**ì²˜ëŸ¼ ì‹œìŠ¤í…œ ë°–ì—ì„œ ê°’ì´ ë“¤ì–´ì˜¤ëŠ” ìˆœê°„, íƒ€ì…ì€ ì‰½ê²Œ ë¬´ë„ˆì§„ë‹¤. ì‹¤ë¬´ì—ì„œ ì¤‘ìš”í•œ ê±´ â€œíƒ€ì…ì„ ì“°ëŠëƒâ€ê°€ ì•„ë‹ˆë¼ **ì–´ë””ì„œ íƒ€ì…ì„ ë¯¿ì§€ ë§ì•„ì•¼ í•˜ëŠ”ì§€**ë¥¼ ì•„ëŠ” ê²ƒì´ë‹¤.

---

## DOMì„ ë‹¤ë£° ë•Œ íƒ€ì… ë‹¨ì–¸ì´ ëŠ˜ì–´ë‚˜ëŠ” ì´ìœ ëŠ” â€œì„ íƒ ê²°ê³¼ê°€ ë¶ˆí™•ì‹¤â€í•˜ê¸° ë•Œë¬¸ì´ë‹¤

**ê²°ë¡ :** DOM APIëŠ” ì‹¤íŒ¨ ê°€ëŠ¥ì„±ì´ ê¸°ë³¸ê°’ì´ë¯€ë¡œ, íƒ€ì… ë‹¨ì–¸ ëŒ€ì‹  ì¢íˆê¸° íŒ¨í„´ì„ ì¨ì•¼ í•œë‹¤.

### ì™œ ë¬¸ì œê°€ ìƒê¸°ë‚˜

* `querySelector`ëŠ” í•­ìƒ `Element | null`
* HTML êµ¬ì¡°ëŠ” ëŸ°íƒ€ì„ì— ë°”ë€” ìˆ˜ ìˆìŒ
* TSëŠ” DOM êµ¬ì¡°ë¥¼ í™•ì •í•  ìˆ˜ ì—†ìŒ

### í”í•œ ì‹¤ìˆ˜

```ts
const input = document.querySelector("#email") as HTMLInputElement;
input.value = "test"; // âŒ ëŸ°íƒ€ì„ì—ì„œ nullì´ë©´ ì¦‰ì‹œ í„°ì§
```

### ì•ˆì „ íŒ¨í„´ (type guard í¬í•¨)

```ts
function isInput(el: Element | null): el is HTMLInputElement {
  return el instanceof HTMLInputElement;
}

const el = document.querySelector("#email");

if (!isInput(el)) {
  throw new Error("email input not found");
}

el.value = "test"; // âœ… ì•ˆì „
```

**íŒë‹¨ ê¸°ì¤€**

* DOM ì ‘ê·¼ì€ í•­ìƒ ì‹¤íŒ¨ ê°€ëŠ¥
* ë‹¨ì–¸(`as`)ì€ â€œêµ¬ì¡°ê°€ ê³ ì •ëœ í…œí”Œë¦¿â€ì—ì„œë§Œ í—ˆìš©

---

## ìƒíƒœ ê´€ë¦¬ì—ì„œ íƒ€ì…ì˜ ê°€ì¹˜ëŠ” â€œë¶ˆê°€ëŠ¥í•œ ìƒíƒœë¥¼ ì œê±°â€í•˜ëŠ” ë° ìˆë‹¤

**ê²°ë¡ :** íƒ€ì…ì´ ìˆìœ¼ë©´ ìƒíƒœ ì¡°í•© ì¤‘ ì• ì´ˆì— ì¡´ì¬í•˜ë©´ ì•ˆ ë˜ëŠ” ì¼€ì´ìŠ¤ë¥¼ ì œê±°í•  ìˆ˜ ìˆë‹¤.

### ë¬¸ì œ

* boolean/nullable ìƒíƒœê°€ ëŠ˜ì–´ë‚ ìˆ˜ë¡ ë¶„ê¸° í­ë°œ
* â€œì´ ìƒíƒœì—ì„œ ì´ ê°’ì´ ìˆì„ ìˆ˜ ìˆë‚˜?â€ë¥¼ ì‚¬ëŒì´ ê¸°ì–µí•´ì•¼ í•¨

### ê°œì„ : Discriminated Union ê¸°ë°˜ ìƒíƒœ

```ts
type LoadState =
  | { status: "idle" }
  | { status: "loading" }
  | { status: "success"; data: string }
  | { status: "error"; error: Error };
```

```ts
function render(state: LoadState) {
  if (state.status === "success") {
    state.data; // string ë³´ì¥
  }
}
```

**ì´ì **

* ë¶ˆê°€ëŠ¥í•œ ì ‘ê·¼ì´ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ì°¨ë‹¨
* UI/ìŠ¤í† ì–´ ë¡œì§ ë‹¨ìˆœí™”

---

## Reactì—ì„œ íƒ€ì… ì„¤ê³„ì˜ í•µì‹¬ì€ â€œpropsÂ·ì´ë²¤íŠ¸Â·refëŠ” ê²½ê³„ë©´â€ì´ë¼ëŠ” ì¸ì‹ì´ë‹¤

**ê²°ë¡ :** React íƒ€ì… ë¬¸ì œì˜ ëŒ€ë¶€ë¶„ì€ â€œì™¸ë¶€ì—ì„œ ì£¼ì…ë˜ëŠ” ê°’â€ì„ ê³¼ì‹ í•´ì„œ ë°œìƒí•œë‹¤.

### React ì»´í¬ë„ŒíŠ¸ ì˜ˆì œ

```tsx
type Props = {
  onSubmit: (value: string) => void;
};

function Form({ onSubmit }: Props) {
  const inputRef = React.useRef<HTMLInputElement>(null);

  const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {
    if (!inputRef.current) return;
    onSubmit(inputRef.current.value);
  };

  return (
    <>
      <input ref={inputRef} />
      <button onClick={handleClick}>Submit</button>
    </>
  );
}
```

### í”í•œ ì‹¤ìˆ˜

* `useRef<any>` ì‚¬ìš© â†’ DOM íƒ€ì… ì •ë³´ ìƒì‹¤
* ì´ë²¤íŠ¸ íƒ€ì…ì„ `any`ë¡œ ì²˜ë¦¬
* propsë¥¼ ë„ˆë¬´ ëŠìŠ¨í•˜ê²Œ(`string | undefined`) ì„¤ê³„

**íŒë‹¨ ê¸°ì¤€**

* props: ì™¸ë¶€ ê³„ì•½ â†’ ìµœëŒ€í•œ ëª…í™•íˆ
* state: ë‚´ë¶€ â†’ unionìœ¼ë¡œ ìƒíƒœ ì œí•œ
* ref: null ê°€ëŠ¥ì„± í•­ìƒ ì²˜ë¦¬

---

## Node/Expressì—ì„œ íƒ€ì…ì´ ê¹¨ì§€ëŠ” ì§€ì ì€ req/res â€œì…êµ¬â€ë‹¤

**ê²°ë¡ :** ì„œë²„ì—ì„œëŠ” ìš”ì²­ ë³¸ë¬¸ì„ ì ˆëŒ€ íƒ€ì…ìœ¼ë¡œ ë¯¿ì§€ ë§ˆë¼.

### ë¬¸ì œ

* `req.body`ëŠ” ëŸ°íƒ€ì„ ë°ì´í„°
* íƒ€ì… ì„ ì–¸ë§Œìœ¼ë¡œëŠ” ì‹¤ì œ êµ¬ì¡° ë³´ì¥ ë¶ˆê°€

### Express ì»¨íŠ¸ë¡¤ëŸ¬ + ë¯¸ë“¤ì›¨ì–´ íƒ€ì… íë¦„

```ts
import { Request, Response, NextFunction } from "express";

type CreateUserBody = {
  email: string;
};

function validateCreateUser(
  req: Request,
  res: Response,
  next: NextFunction
) {
  const body = req.body as Partial<CreateUserBody>;
  if (typeof body.email !== "string") {
    return res.status(400).send("Invalid body");
  }
  next();
}

function createUser(req: Request<{}, {}, CreateUserBody>, res: Response) {
  req.body.email; // string ë³´ì¥
  res.send("ok");
}
```

**í•µì‹¬**

* ë¯¸ë“¤ì›¨ì–´ì—ì„œ ëŸ°íƒ€ì„ ê²€ì¦
* ê²€ì¦ ì´í›„ì—ë§Œ â€œê°•í•œ íƒ€ì…â€ ë¶€ì—¬

---

## ì™¸ë¶€ JS ë¼ì´ë¸ŒëŸ¬ë¦¬ í†µí•©ì˜ í•µì‹¬ì€ â€œdeclareëŠ” ìµœí›„ì˜ ìˆ˜ë‹¨â€ì´ë‹¤

**ê²°ë¡ :** íƒ€ì…ì´ ì—†ì„ ë•ŒëŠ” â€œì •í™•ì„± < ì•ˆì „ì„±â€ì„ ì„ íƒí•˜ë¼.

### ìš°ì„ ìˆœìœ„

1. ê³µì‹ íƒ€ì… í¬í•¨ ì—¬ë¶€ í™•ì¸
2. `@types/*` ì¡´ì¬ ì—¬ë¶€ í™•ì¸
3. ìµœì†Œ ì„ ì–¸ìœ¼ë¡œ `declare` ì‚¬ìš©

### ìµœì†Œ declare ì˜ˆì œ

```ts
// globals.d.ts
declare module "legacy-lib" {
  export function run(value: string): void;
}
```

### ìœ„í—˜ ê²½ê³ 

* ì‹¤ì œ APIì™€ ë¶ˆì¼ì¹˜í•´ë„ ì»´íŒŒì¼ í†µê³¼
* ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—…ë°ì´íŠ¸ ì‹œ ì¡°ìš©íˆ ê¹¨ì§

**ì›ì¹™**

* declareëŠ” í‘œë©´ì  íƒ€ì…ë§Œ
* ë‚´ë¶€ êµ¬í˜„ ì¶”ì • ê¸ˆì§€

---

## â€œíƒ€ì…ë§Œ ë¯¿ê³  ëŸ°íƒ€ì„ ê²€ì¦ì„ ì•ˆ í•´ì„œâ€ í„°ì§€ëŠ” ëŒ€í‘œ ì‚¬ë¡€

**ê²°ë¡ :** íƒ€ì…ì€ ì•½ì†ì´ì§€, ì‚¬ì‹¤ì´ ì•„ë‹ˆë‹¤.

### ì‚¬ë¡€

* í”„ë¡ íŠ¸: API ì‘ë‹µì„ interfaceë¡œë§Œ ë¯¿ìŒ
* ë°±ì—”ë“œ: req.body íƒ€ì… ì„ ì–¸ë§Œ í•˜ê³  ê²€ì¦ ì—†ìŒ
* ê²°ê³¼: ëŸ°íƒ€ì„ undefined ì ‘ê·¼, ì¥ì•  ë°œìƒ

### ë°©ì–´ ì „ëµ

* ëª¨ë“  ê²½ê³„ë©´ì—ì„œ `unknown` â†’ ì¢íˆê¸°
* í”„ë¡ íŠ¸/ë°±ì—”ë“œ ê³µí†µìœ¼ë¡œ ëŸ°íƒ€ì„ ê²€ì¦ ë‹¨ê³„ ìœ ì§€
* íƒ€ì…ì€ ê²€ì¦ ì´í›„ì—ë§Œ ê°•í•˜ê²Œ

---

## ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸: TS ë„ì…/ê°•í™” ë‹¨ê³„ë³„ ìˆœì„œ

**ê²°ë¡ :** í•œ ë²ˆì— ì™„ë²½í•˜ê²Œ í•˜ë ¤ë‹¤ ì‹¤íŒ¨í•œë‹¤.

1. strict ON (ë˜ëŠ” ì ì§„ ê°•í™”)
2. ì™¸ë¶€ ì…ë ¥ì„ `unknown`ìœ¼ë¡œ ë°›ê¸°
3. DOM/req.body/ref ê²½ê³„ë©´ë¶€í„° ì •ë¦¬
4. ìƒíƒœë¥¼ unionìœ¼ë¡œ ì¬ì„¤ê³„
5. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ íƒ€ì… ì •ë¹„

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

* [ ] DOM ì ‘ê·¼ì—ì„œ `as`ë¥¼ ë¬´ì¡°ê±´ ì“°ê³  ìˆì§€ ì•Šì€ê°€?
* [ ] ìƒíƒœ ëª¨ë¸ì— ë¶ˆê°€ëŠ¥í•œ ì¡°í•©ì´ ë‚¨ì•„ ìˆì§€ ì•Šì€ê°€?
* [ ] React propsê°€ ê³„ì•½ìœ¼ë¡œì„œ ì¶©ë¶„íˆ ëª…í™•í•œê°€?
* [ ] ì„œë²„ì—ì„œ ìš”ì²­ ë³¸ë¬¸ì„ ëŸ°íƒ€ì„ ê²€ì¦í•˜ëŠ”ê°€?
* [ ] declareë¡œ â€œì¶”ì¸¡ íƒ€ì…â€ì„ ì“°ê³  ìˆì§€ ì•Šì€ê°€?

---

## ìš”ì•½ 5ì¤„

1. íƒ€ì…ì´ ê¹¨ì§€ëŠ” ì§€ì ì€ í•­ìƒ ì‹œìŠ¤í…œ ê²½ê³„ë©´ì´ë‹¤.
2. DOMê³¼ req.bodyëŠ” ì‹¤íŒ¨ ê°€ëŠ¥ì„±ì„ ì „ì œë¡œ ì„¤ê³„í•´ì•¼ í•œë‹¤.
3. ìƒíƒœëŠ” unionìœ¼ë¡œ ëª¨ë¸ë§í•´ì•¼ ë¶ˆê°€ëŠ¥í•œ ì¼€ì´ìŠ¤ê°€ ì œê±°ëœë‹¤.
4. Reactì™€ Expressì—ì„œ íƒ€ì…ì€ â€œê²€ì¦ ì´í›„â€ì—ë§Œ ì‹ ë¢° ê°€ëŠ¥í•˜ë‹¤.
5. declareëŠ” ìµœí›„ì˜ ìˆ˜ë‹¨ì´ë©°, ì •í™•ì„±ë³´ë‹¤ ì•ˆì „ì„±ì´ ìš°ì„ ì´ë‹¤.

---

## ìê¸°ì ê²€ ì§ˆë¬¸ 5ê°œ

1. ë‚´ ì½”ë“œì—ì„œ ê°€ì¥ ìœ„í—˜í•œ ê²½ê³„ë©´ì€ ì–´ë””ì¸ê°€?
2. íƒ€ì… ë‹¨ì–¸(`as`)ì„ ì œê±°í•  ìˆ˜ ìˆëŠ” ê³³ì€ ì—†ëŠ”ê°€?
3. ìƒíƒœ ëª¨ë¸ì— ë…¼ë¦¬ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥í•œ ì¡°í•©ì€ ì—†ëŠ”ê°€?
4. ì„œë²„ ìš”ì²­ ê²€ì¦ì„ íƒ€ì… ì„ ì–¸ìœ¼ë¡œ ëŒ€ì²´í•˜ê³  ìˆì§€ ì•Šì€ê°€?
5. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ íƒ€ì…ì„ ì‹¤ì œ APIì™€ ë¹„êµí•´ë³¸ ì ì´ ìˆëŠ”ê°€?

---

## ì‹¤ì „ ë¯¸ì…˜ 3ê°œ

1. DOM ì ‘ê·¼ ì½”ë“œ í•˜ë‚˜ë¥¼ type guard ê¸°ë°˜ìœ¼ë¡œ ë¦¬íŒ©í„°ë§í•˜ë¼.
2. React ìƒíƒœ í•˜ë‚˜ë¥¼ discriminated unionìœ¼ë¡œ ì¬ì„¤ê³„í•˜ë¼.
3. Express ì—”ë“œí¬ì¸íŠ¸ í•˜ë‚˜ì— ëŸ°íƒ€ì„ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì¶”ê°€í•˜ë¼.

---

- ì°¸ê³ : [  Typescript :ê¸°ì´ˆë¶€í„° ì‹¤ì „í˜• í”„ë¡œì íŠ¸ê¹Œì§€ with React + NodeJS
](https://www.udemy.com/course/best-typescript-21/)

