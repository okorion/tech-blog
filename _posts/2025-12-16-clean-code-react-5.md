---
title: "Hooksì™€ useEffectë¥¼ ì˜ë„ë¡œ ì„¤ê³„í•˜ê¸°"
description: "useEffect í•„ìš” ì¡°ê±´, ì±…ì„ ë¶„ë¦¬, ë¹„ë™ê¸°/cleanup, ì»¤ìŠ¤í…€ í›… ë°˜í™˜ íŒ¨í„´ ì •ë¦¬"
categories: ["ğŸ§¹ React & Clean Code"]
tags: ["useEffect", "Hooks", "SideEffects", "CustomHook"]
image: /assets/posts/2025-12-16-clean-code-react/image.png
date: 2025-12-16 13:20:00 +09:00
last_modified_at: 2025-12-16 13:20:00 +09:00
---

# Hooksì™€ Effect  
## â€” useEffectë¥¼ â€œì–¸ì œ ì“°ëŠ”ì§€â€ê°€ ì•„ë‹ˆë¼ â€œì™œ ì“°ëŠ”ì§€â€ë¡œ ì´í•´í•˜ê¸°

---

## ì„œë¡ : useEffectëŠ” í¸ì˜ APIê°€ ì•„ë‹ˆë¼ ì œì•½ APIë‹¤

React ì½”ë“œê°€ ë³µì¡í•´ì§€ëŠ” ìˆœê°„ì„ ë³´ë©´ ê³µí†µì ì´ ìˆë‹¤.  
**useEffectê°€ ëŠ˜ì–´ë‚˜ ìˆê³ , ê·¸ ì´ìœ ë¥¼ ì„¤ëª…í•˜ê¸° ì–´ë µë‹¤.**

- â€œì—¬ê¸°ì„œ ë°ì´í„° ë¶ˆëŸ¬ì™€ì•¼ í•´ì„œâ€
- â€œì´ ê°’ ë°”ë€Œë©´ ë­”ê°€ í•´ì•¼ í•´ì„œâ€
- â€œë Œë”ë§ í›„ë‹ˆê¹Œ useEffectê² ì§€â€

ì´ëŸ° ì„¤ëª…ì´ ë‚˜ì˜¤ëŠ” ìˆœê°„, ì½”ë“œëŠ” ì´ë¯¸ ìœ„í—˜í•˜ë‹¤.  
useEffectëŠ” **ë¬´ì—‡ì´ë“  ë„£ì–´ë„ ë˜ëŠ” ë§ŒëŠ¥ í›…ì´ ì•„ë‹ˆë¼,  
â€˜ë Œë”ë§ ì™¸ë¶€ ì„¸ê³„ì™€ ì—°ê²°í•  ë•Œë§Œ ì“°ëŠ” APIâ€™**ë‹¤.

ì´ ê¸€ì˜ ëª©í‘œëŠ” useEffectë¥¼  
**ë¬¸ë²•ì´ ì•„ë‹ˆë¼ â€˜ì˜ë„ ê¸°ë°˜ ë„êµ¬â€™ë¡œ ë‹¤ì‹œ ì´í•´í•˜ê²Œ ë§Œë“œëŠ” ê²ƒ**ì´ë‹¤.

---

## 1) Hooks ì„¤ê³„ ì² í•™ ìš”ì•½

### í”í•œ ì˜¤í•´
- â€œHooksëŠ” í´ë˜ìŠ¤ ìƒëª…ì£¼ê¸°ë¥¼ ëŒ€ì²´í•œ ê²ƒâ€
- â€œuseEffect = componentDidMount + componentDidUpdateâ€
- â€œí•„ìš”í•˜ë©´ ì•„ë¬´ ë°ì„œë‚˜ ì¨ë„ ë˜ëŠ” í•¨ìˆ˜â€

### ì™œ ì´ë ‡ê²Œ ì“°ë©´ ì•ˆ ë˜ëŠ”ê°€
Hooksì˜ í•µì‹¬ì€ â€œí¸ì˜ì„±â€ì´ ì•„ë‹ˆë¼ **ì¼ê´€ì„±**ì´ë‹¤.

- í•­ìƒ ê°™ì€ ìˆœì„œë¡œ í˜¸ì¶œ
- ë Œë”ë§ íë¦„ ì•ˆì—ì„œë§Œ ë™ì‘
- ìƒíƒœì™€ UIë¥¼ **ë™ê¸°ì ìœ¼ë¡œ ë§ì¶”ê¸° ìœ„í•œ ê·œì¹™**

useEffectëŠ” ì´ íë¦„ì—ì„œ **ì˜ë„ì ìœ¼ë¡œ ë¶„ë¦¬ëœ ì˜ˆì™¸**ë‹¤.  
ì¦‰, **ë Œë”ë§ê³¼ ì§ì ‘ ê´€ë ¨ ì—†ëŠ” ì‘ì—…**ë§Œ ì—¬ê¸°ë¡œ ë³´ë‚´ë¼ëŠ” ëœ»ì´ë‹¤.

### ë” ë‚˜ì€ ì‚¬ê³  íë¦„
- Hooks = UIì™€ ìƒíƒœë¥¼ **ë Œë”ë§ ì¤‘ì‹¬ìœ¼ë¡œ ë§ì¶”ê¸° ìœ„í•œ ë„êµ¬**
- useEffect = ë Œë” ê²°ê³¼ë¥¼ **ì™¸ë¶€ ì„¸ê³„ì™€ ë™ê¸°í™”í•˜ëŠ” í†µë¡œ**

### ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸
- ì´ ë¡œì§ì€ â€œë Œë”ë§ ê²°ê³¼â€ì™€ ì§ì ‘ ê´€ë ¨ ìˆëŠ”ê°€  
- Hooks í˜¸ì¶œ ìˆœì„œê°€ ë°”ë€” ì—¬ì§€ëŠ” ì—†ëŠ”ê°€  
- ì´ ì‘ì—…ì´ ë Œë” ì¤‘ ì‹¤í–‰ë˜ë©´ ì•ˆ ë˜ëŠ” ì´ìœ ê°€ ëª…í™•í•œê°€  
- useEffectë¥¼ â€œí¸ì˜â€ ë•Œë¬¸ì— ì“°ê³  ìˆì§€ ì•Šì€ê°€  
- Effectê°€ ì—†ë‹¤ë©´ UIê°€ ì˜ëª» í‘œí˜„ë˜ëŠ”ê°€  

---

## 2) useEffectê°€ í•„ìš”í•œ ê²½ìš° / ì•„ë‹Œ ê²½ìš°

### í”í•œ ì˜¤í•´
- â€œê°’ì´ ë°”ë€Œë©´ ë¬´ì¡°ê±´ useEffectâ€
- â€œë¹„ë™ê¸°ë©´ useEffectâ€
- â€œë Œë” ë’¤ì— ì‹¤í–‰ë˜ë‹ˆê¹Œ useEffectâ€

### ì™œ ì´ë ‡ê²Œ ì“°ë©´ ì•ˆ ë˜ëŠ”ê°€
ë§ì€ useEffectëŠ” ì‚¬ì‹¤ **ë¶ˆí•„ìš”í•œ ì¤‘ê°„ ë‹¨ê³„**ë‹¤.

- íŒŒìƒê°’ ê³„ì‚°
- ë‹¨ìˆœ ì¡°ê±´ ë¶„ê¸°
- state ë™ê¸°í™”

ì´ëŸ° ê²ƒë“¤ì„ useEffectë¡œ ì²˜ë¦¬í•˜ë©´  
**ìƒíƒœ â†’ Effect â†’ ìƒíƒœ**ë¼ëŠ” ìš°íšŒ ê²½ë¡œê°€ ìƒê¸´ë‹¤.

### ë” ë‚˜ì€ ì‚¬ê³  íë¦„
useEffectê°€ í•„ìš”í•œ ê²½ìš°ëŠ” ë”± ì„¸ ê°€ì§€ë‹¤.

1. **ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”**
   - API ìš”ì²­
   - ë¸Œë¼ìš°ì € API (localStorage, event listener)
2. **ë Œë”ë§ ê²°ê³¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‹¤í–‰ë¼ì•¼ í•˜ëŠ” ì‘ì—…**
3. **Reactê°€ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ” ì„¸ê³„ì™€ì˜ ì—°ê²°**

ê·¸ ì™¸ ëŒ€ë¶€ë¶„ì€ **ë Œë”ë§ ì¤‘ ê³„ì‚°**ì´ ë§ë‹¤.

### ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸
- ì´ ë¡œì§ì€ ì™¸ë¶€ ì„¸ê³„ì™€ ì—°ê²°ë¼ ìˆëŠ”ê°€  
- Effectë¥¼ ì œê±°í•˜ë©´ UIê°€ ì˜ëª»ë˜ëŠ”ê°€  
- íŒŒìƒê°’ì„ state+effectë¡œ ìš°íšŒí•˜ê³  ìˆì§€ ì•Šì€ê°€  
- â€œë Œë”ë§ í›„â€ì—¬ì•¼ë§Œ í•˜ëŠ” ì´ìœ ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆëŠ”ê°€  
- ì´ EffectëŠ” React ë°–ì˜ ë¬´ì–¸ê°€ë¥¼ ë§Œì§€ëŠ”ê°€  

---

## 3) í•˜ë‚˜ì˜ Effect = í•˜ë‚˜ì˜ ì±…ì„

### í”í•œ ì˜¤í•´
- â€œê´€ë ¨ ìˆìœ¼ë‹ˆê¹Œ í•˜ë‚˜ì˜ useEffectì—â€
- â€œì˜ì¡´ì„± ë°°ì—´ ê´€ë¦¬í•˜ê¸° ê·€ì°®ì•„ì„œâ€
- â€œì–´ì°¨í”¼ í•œ ë²ˆì— ì‹¤í–‰ë˜ë‹ˆê¹Œâ€

### ì™œ ì´ë ‡ê²Œ ì“°ë©´ ì•ˆ ë˜ëŠ”ê°€
Effect ì•ˆì— ì—¬ëŸ¬ ì±…ì„ì´ ì„ì´ë©´:

- ì˜ì¡´ì„± ë°°ì—´ì´ ë³µì¡í•´ì§„ë‹¤
- ì¼ë¶€ ë¡œì§ë§Œ ë‹¤ì‹œ ì‹¤í–‰í•˜ê¸° ì–´ë µë‹¤
- ìˆ˜ì • ì‹œ ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ íŠ€ì–´ë‚˜ì˜¨ë‹¤

### ë” ë‚˜ì€ ì‚¬ê³  íë¦„
useEffectëŠ” **ì‘ì€ ë‹¨ìœ„ì˜ ë™ê¸°í™” ê·œì¹™**ì´ë‹¤.

- í•œ Effect = í•˜ë‚˜ì˜ ì´ìœ ë¡œ ì‹¤í–‰
- ì˜ì¡´ì„± ë°°ì—´ = â€œì´ Effectê°€ ì–¸ì œ ë‹¤ì‹œ í•„ìš”í•´ì§€ëŠ”ê°€â€

### ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸
- ì´ Effectê°€ ì‹¤í–‰ë˜ëŠ” ì´ìœ ë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ”ê°€  
- ì„œë¡œ ë‹¤ë¥¸ ì´ìœ ì˜ ë¡œì§ì´ ì„ì—¬ ìˆì§€ ì•Šì€ê°€  
- ì˜ì¡´ì„± ë°°ì—´ì´ â€œí•„ìš” ì¡°ê±´â€ë§Œ ë‹´ê³  ìˆëŠ”ê°€  
- ì¼ë¶€ ë¡œì§ë§Œ ìˆ˜ì •í•  ë•Œ Effect ì „ì²´ë¥¼ ê±´ë“œë ¤ì•¼ í•˜ëŠ”ê°€  
- Effect ë¶„ë¦¬ê°€ ê°€ë…ì„±ì„ ë†’ì´ëŠ”ê°€  

---

## 4) Effect ë‚´ë¶€ ë¹„ë™ê¸° ì²˜ë¦¬ ê¸°ì¤€

### í”í•œ ì˜¤í•´
- â€œasync ë¶™ì´ë©´ ëâ€
- â€œì—ëŸ¬ ì²˜ë¦¬ëŠ” ë‚˜ì¤‘ì—â€
- â€œcleanupì€ í•„ìš” ì—†ì„ ë“¯â€

### ì™œ ì´ë ‡ê²Œ ì“°ë©´ ì•ˆ ë˜ëŠ”ê°€
Effect ë‚´ë¶€ ë¹„ë™ê¸°ëŠ” ë‹¤ìŒ ë¬¸ì œë¥¼ ë§Œë“ ë‹¤.

- race condition
- ì–¸ë§ˆìš´íŠ¸ í›„ setState
- ì˜¤ë˜ëœ ì‘ë‹µì´ ìµœì‹  ìƒíƒœë¥¼ ë®ì–´ì”€

### ë” ë‚˜ì€ ì‚¬ê³  íë¦„
- EffectëŠ” **ë¹„ë™ê¸° ì‘ì—…ì˜ ì‹œì‘ê³¼ ì¢…ë£Œë¥¼ ì±…ì„**
- ê²°ê³¼ ì ìš© ì „ì— â€œì´ Effectê°€ ì•„ì§ ìœ íš¨í•œê°€â€ë¥¼ í™•ì¸
- cleanupì€ ì˜µì…˜ì´ ì•„ë‹ˆë¼ ê¸°ë³¸ê°’

```tsx
useEffect(() => {
  let cancelled = false;

  fetchData().then(result => {
    if (!cancelled) {
      setData(result);
    }
  });

  return () => {
    cancelled = true;
  };
}, [query]);
```

### ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸

* ì´ ë¹„ë™ê¸° ê²°ê³¼ê°€ ì–¸ì œ ë¬´íš¨ê°€ ë˜ëŠ”ê°€
* ì´ì „ ìš”ì²­ì´ ë‚˜ì¤‘ ìš”ì²­ì„ ë®ì–´ì“¸ ê°€ëŠ¥ì„±ì€ ì—†ëŠ”ê°€
* ì–¸ë§ˆìš´íŠ¸ ì´í›„ setState ê°€ëŠ¥ì„±ì€ ì°¨ë‹¨ëëŠ”ê°€
* ì—ëŸ¬/ë¡œë”© ìƒíƒœ ì±…ì„ì´ ëª…í™•í•œê°€
* ì´ ë¡œì§ì„ custom hookìœ¼ë¡œ ê°ì¶œ ìˆ˜ ìˆëŠ”ê°€

---

## 5) Custom Hook ë°˜í™˜ ì„¤ê³„ íŒ¨í„´

### í”í•œ ì˜¤í•´

* â€œuseEffect ë§ì•„ì§€ë©´ hookìœ¼ë¡œ ë¹¼ìâ€
* â€œê·¸ëƒ¥ ì½”ë“œ ì¤„ì´ë ¤ê³ â€
* â€œë¡œì§ ìˆ¨ê¸°ë©´ ê¹”ë”í•´ì§€ê² ì§€â€

### ì™œ ì´ë ‡ê²Œ ì“°ë©´ ì•ˆ ë˜ëŠ”ê°€

Custom Hookì´:

* ë‚´ë¶€ êµ¬í˜„ì„ ê·¸ëŒ€ë¡œ ë…¸ì¶œí•˜ê±°ë‚˜
* ë°˜í™˜ê°’ì´ ë‚œì¡í•˜ê±°ë‚˜
* ì±…ì„ì´ ë¶ˆë¶„ëª…í•˜ë©´

ë³µì¡ë„ëŠ” **ì´ë™**í•  ë¿ ì¤„ì§€ ì•ŠëŠ”ë‹¤.

### ë” ë‚˜ì€ ì‚¬ê³  íë¦„

ì¢‹ì€ Custom Hookì€:

* í•˜ë‚˜ì˜ ì—­í• 
* ëª…í™•í•œ ë°˜í™˜ êµ¬ì¡°
* ì‚¬ìš©ìëŠ” â€œë¬´ì—‡ì„ ì“°ëŠ”ì§€â€ë§Œ ì•Œë©´ ëœë‹¤

ì¼ë°˜ì ì¸ íŒ¨í„´:

* `state`
* `actions`
* (ì„ íƒ) `derived`

```tsx
const { data, status, refetch } = useUsers();
```

### ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸

* Hook ì´ë¦„ë§Œ ë³´ê³  ì—­í• ì´ ë– ì˜¤ë¥´ëŠ”ê°€
* ë°˜í™˜ê°’ì´ ìƒíƒœ/í–‰ë™ìœ¼ë¡œ ì •ë¦¬ë¼ ìˆëŠ”ê°€
* ë‚´ë¶€ useEffect ì¡´ì¬ë¥¼ ì‚¬ìš©ìê°€ ëª°ë¼ë„ ë˜ëŠ”ê°€
* ì—¬ëŸ¬ Effectê°€ ìˆë‹¤ë©´ ì±…ì„ì´ ë¶„ë¦¬ë¼ ìˆëŠ”ê°€
* Hook ì‚¬ìš©ì´ ì»´í¬ë„ŒíŠ¸ ë³µì¡ë„ë¥¼ ì‹¤ì œë¡œ ì¤„ì˜€ëŠ”ê°€

---

## ê²°ë¡ : useEffectë¥¼ ì¤„ì´ëŠ” ê²Œ ì•„ë‹ˆë¼, ì˜ë„ë¥¼ ë“œëŸ¬ë‚´ë¼

ì¢‹ì€ React ì½”ë“œëŠ”
useEffectê°€ **ë§ì´ ì—†ëŠ” ì½”ë“œ**ê°€ ì•„ë‹ˆë¼,
**ì™œ í•„ìš”í•œì§€ ì„¤ëª… ê°€ëŠ¥í•œ ì½”ë“œ**ë‹¤.

* EffectëŠ” ë Œë”ë§ì˜ ì˜ˆì™¸ë‹¤
* ì±…ì„ì€ ìª¼ê°¤ìˆ˜ë¡ ëª…í™•í•´ì§„ë‹¤
* ë¹„ë™ê¸°ëŠ” í•­ìƒ ìˆ˜ëª… ê´€ë¦¬ê°€ í•„ìš”í•˜ë‹¤

useEffectë¥¼ ì“°ê¸° ì „ì— í•­ìƒ í•œ ë²ˆë§Œ ìë¬¸í•˜ë©´ ëœë‹¤.

> â€œì´ê±´ ë Œë”ë§ì˜ ë¬¸ì œì¸ê°€,
> ì•„ë‹ˆë©´ ë Œë”ë§ **ë°–**ì˜ ë¬¸ì œì¸ê°€?â€

---

- ì°¸ê³ : [ í´ë¦°ì½”ë“œ ë¦¬ì•¡íŠ¸(React)
](https://www.udemy.com/course/clean-code-react/)
